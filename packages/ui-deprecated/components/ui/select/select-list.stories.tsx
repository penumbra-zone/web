import type { Meta, StoryObj } from '@storybook/react';
import { useArgs } from '@storybook/preview-api';

import { SelectList } from './select-list';
import { ComponentProps } from 'react';
import { Network } from 'lucide-react';

const meta: Meta<typeof SelectList> = {
  component: SelectList,
  title: 'SelectList',
  tags: ['autodocs'],
};
export default meta;

type Story = StoryObj<typeof SelectList>;

export const Basic: Story = {
  render: function Render() {
    const [args, updateArgs] = useArgs<ComponentProps<(typeof SelectList)['Option']>>();

    const onChange = (value: unknown) => updateArgs({ value });

    const options = [
      {
        value: 'one',
        label: 'One',
        secondary: 'AKA, 1',
        image: <img src={image1Src} className='size-full object-contain' />,
      },
      {
        value: 'two',
        label: 'Two',
        secondary: 'AKA, 2',
        image: <img src={image2Src} className='size-full object-contain' />,
      },
      {
        value: 'three',
        label: 'Three',
        secondary: 'AKA, 3',
        image: <Network className='size-full' />,
      },
    ];

    return (
      <SelectList>
        {options.map(option => (
          <SelectList.Option
            key={option.value}
            value={option.value}
            label={option.label}
            secondary={option.secondary}
            image={option.image}
            isSelected={!('value' in args) ? option.value === 'one' : args.value === option.value}
            onSelect={onChange}
          />
        ))}
      </SelectList>
    );
  },
};

const image1Src =
  'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmcyIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMiAzMiIKICAgc29kaXBvZGk6ZG9jbmFtZT0iMTUtUGVudW1icmEtdG9rZW4tbG9nby0yNHgyNHB4LTEtMi5zdmciCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMi4yIChiMGE4NDg2NSwgMjAyMi0xMi0wMSkiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGRlZnMKICAgICBpZD0iZGVmczYiPgogICAgPHJhZGlhbEdyYWRpZW50CiAgICAgICBmeD0iMCIKICAgICAgIGZ5PSIwIgogICAgICAgY3g9IjAiCiAgICAgICBjeT0iMCIKICAgICAgIHI9IjEiCiAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIKICAgICAgIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoOC42ODQyMzc1LDMuOTM4MjAwNywzLjkzODIwMDcsLTguNjg0MjM3NSwxMS44MjIzNDQsMTEuNzA0NDM0KSIKICAgICAgIHNwcmVhZE1ldGhvZD0icGFkIgogICAgICAgaWQ9InJhZGlhbEdyYWRpZW50MzQiPgogICAgICA8c3RvcAogICAgICAgICBzdHlsZT0ic3RvcC1vcGFjaXR5OjE7c3RvcC1jb2xvcjojZjc5MDM2IgogICAgICAgICBvZmZzZXQ9IjAiCiAgICAgICAgIGlkPSJzdG9wMjYiIC8+CiAgICAgIDxzdG9wCiAgICAgICAgIHN0eWxlPSJzdG9wLW9wYWNpdHk6MTtzdG9wLWNvbG9yOiNmNzkwMzYiCiAgICAgICAgIG9mZnNldD0iMC42MDMwMTciCiAgICAgICAgIGlkPSJzdG9wMjgiIC8+CiAgICAgIDxzdG9wCiAgICAgICAgIHN0eWxlPSJzdG9wLW9wYWNpdHk6MTtzdG9wLWNvbG9yOiM5NmQ1ZDEiCiAgICAgICAgIG9mZnNldD0iMC44Nzk2NjgiCiAgICAgICAgIGlkPSJzdG9wMzAiIC8+CiAgICAgIDxzdG9wCiAgICAgICAgIHN0eWxlPSJzdG9wLW9wYWNpdHk6MTtzdG9wLWNvbG9yOiM5NmQ1ZDEiCiAgICAgICAgIG9mZnNldD0iMSIKICAgICAgICAgaWQ9InN0b3AzMiIgLz4KICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3NCIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiMwMDAwMDAiCiAgICAgYm9yZGVyb3BhY2l0eT0iMC4yNSIKICAgICBpbmtzY2FwZTpzaG93cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VjaGVja2VyYm9hcmQ9IjAiCiAgICAgaW5rc2NhcGU6ZGVza2NvbG9yPSIjZDFkMWQxIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIzMi4wOTM3NSIKICAgICBpbmtzY2FwZTpjeD0iMTcuNzc2MDQ3IgogICAgIGlua3NjYXBlOmN5PSIxNy4wNzQ5NzYiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNDE5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjkxNiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNTAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjM4IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjAiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0iZzEwIj4KICAgIDxpbmtzY2FwZTpwYWdlCiAgICAgICB4PSIwIgogICAgICAgeT0iMCIKICAgICAgIGlkPSJwYWdlOCIKICAgICAgIHdpZHRoPSIzMiIKICAgICAgIGhlaWdodD0iMzIiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPGcKICAgICBpZD0iZzEwIgogICAgIGlua3NjYXBlOmdyb3VwbW9kZT0ibGF5ZXIiCiAgICAgaW5rc2NhcGU6bGFiZWw9IlBhZ2UgMSIKICAgICB0cmFuc2Zvcm09Im1hdHJpeCgxLjMzMzMzMzMsMCwwLC0xLjMzMzMzMzMsMCwzMikiPgogICAgPHBhdGgKICAgICAgIGQ9Ik0gMC4wMTY1MjM4NSwwIEggMjQuMDAxIFYgMjQgSCAwLjAxNjUyMzg1IFoiCiAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjAwMTk1IgogICAgICAgaWQ9InBhdGgxMiIgLz4KICAgIDxnCiAgICAgICBpZD0iZzE0Ij4KICAgICAgPGcKICAgICAgICAgaWQ9ImcxNiI+CiAgICAgICAgPGcKICAgICAgICAgICBpZD0iZzIyIj4KICAgICAgICAgIDxnCiAgICAgICAgICAgICBpZD0iZzI0Ij4KICAgICAgICAgICAgPHBhdGgKICAgICAgICAgICAgICAgZD0ibSAxNS43ODIsMjAuODk1IGMgLTAuNjU3LC0wLjIzNCAtMS4yOTgsLTAuNTMgLTEuOTE4LC0wLjgxNyB2IDAgQyAxMi43MjksMTkuNTU0IDExLjY1OCwxOS4wNiAxMC44MSwxOS4xMTEgdiAwIGMgLTAuMjk3LDAuMDE4IC0wLjY2MiwwLjA2MyAtMS4wODUsMC4xMTcgdiAwIEMgOC4xMzIsMTkuNDI2IDUuOTUyLDE5LjcgNC44MTUsMTguNzcxIHYgMCBDIDQuMDA3LDE4LjExMiA0LjEzMywxNi41MzggNC4yNTQsMTUuMDE2IHYgMCBDIDQuMzQ2LDEzLjg3OCA0LjQ0MSwxMi43MDIgNC4xMjcsMTEuOTk3IHYgMCBDIDMuNDIsMTAuNDAxIDMuMTc5LDkuMDQgMy40MTEsNy45NTIgdiAwIEMgMy42MzksNi44ODMgNC4zMjUsNi4wNDYgNS40NSw1LjQ2MyB2IDAgQyA2LjA4NCw1LjEzNSA2LjY2OCw0Ljk5OCA3LjI4Niw0Ljg1MyB2IDAgQyA4LjE4OCw0LjY0IDkuMTIsNC40MjEgMTAuMjg0LDMuNTY4IHYgMCBjIDAuNTgyLC0wLjQyNyAxLjE4MiwtMC42NDIgMS44MTgsLTAuNjQyIHYgMCBjIDEuMjEsMCAyLjU1MiwwLjc3OCA0LjE1MSwyLjM3MiB2IDAgYyAwLjU4MSwwLjU4IDEuMjksMC45MTcgMS45NzUsMS4yNDUgdiAwIGMgMC44MDUsMC4zODQgMS42MzksMC43ODIgMi4yNzUsMS41NyB2IDAgYyAwLjM4OSwwLjQ4MSAwLjQ4NywwLjk5NiAwLjMsMS41NzMgdiAwIGMgLTAuMTYzLDAuNTA3IC0wLjUyNiwxLjAyMSAtMC45MSwxLjU2NSB2IDAgYyAtMC40MTgsMC41OTEgLTAuODUxLDEuMjAzIC0xLjEwOSwxLjkgdiAwIGMgLTAuNDUyLDEuMjE1IC0wLjM2NywxLjcwMSAtMC4yMTUsMi41ODUgdiAwIGMgMC4xLDAuNTcyIDAuMjIyLDEuMjg1IDAuMjUxLDIuNDQyIHYgMCBjIDAuMDMyLDEuMzIxIC0wLjM0MSwyLjA3NCAtMC45NDQsMi41MSB2IDAgYyAtMC4zMjUsMC4yMzUgLTAuNywwLjM4NiAtMS4xNjEsMC4zODYgdiAwIGMgLTAuMjc3LDAgLTAuNTg1LC0wLjA1NSAtMC45MzMsLTAuMTc5IE0gOC44MjgsNy42NzIgQyA3Ljk0Myw4LjMyNiA3LjMyMiw5LjIyNyA3LjAzMiwxMC4yNzggdiAwIGMgLTAuMzQ1LDEuMjUxIC0wLjE3MSwyLjU1OSAwLjQ4OSwzLjY4MiB2IDAgYyAwLjY2MiwxLjEyMyAxLjczLDEuOTI4IDMuMDEsMi4yNjUgdiAwIGMgMC40MjQsMC4xMTIgMC44NTksMC4xNjkgMS4yOTUsMC4xNjkgdiAwIGMgMS4wNjksMCAyLjEzMSwtMC4zNSAyLjk5LC0wLjk4NCB2IDAgYyAwLjg4NSwtMC42NTQgMS41MDYsLTEuNTU1IDEuNzk2LC0yLjYwNiB2IDAgYyAwLjM0NSwtMS4yNTIgMC4xNzEsLTIuNTU5IC0wLjQ4OSwtMy42ODIgdiAwIEMgMTUuNDYyLDcuOTk4IDE0LjM5Myw3LjE5NSAxMy4xMTQsNi44NTcgdiAwIEMgMTIuNjg5LDYuNzQ1IDEyLjI1Myw2LjY4OCAxMS44MTksNi42ODggdiAwIGMgLTEuMDcsMCAtMi4xMzEsMC4zNSAtMi45OTEsMC45ODQiCiAgICAgICAgICAgICAgIHN0eWxlPSJmaWxsOnVybCgjcmFkaWFsR3JhZGllbnQzNCk7c3Ryb2tlOm5vbmUiCiAgICAgICAgICAgICAgIGlkPSJwYXRoMzYiIC8+CiAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K';

const image2Src =
  'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMjU2IDI1NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjU2IDI1NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMxNTgwM2Q7fQoJLnN0MXtmaWxsOiNGRkZGRkY7fQo8L3N0eWxlPgo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMjgiIGN5PSIxMjgiIHI9IjEyOCIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTA0LDIxN2MwLDMtMi40LDQuNy01LjIsMy44QzYwLDIwOC40LDMyLDE3Mi4yLDMyLDEyOS4zYzAtNDIuOCwyOC03OS4xLDY2LjgtOTEuNWMyLjktMC45LDUuMiwwLjgsNS4yLDMuOAoJdjcuNWMwLDItMS41LDQuMy0zLjQsNUM2OS45LDY1LjQsNDgsOTQuOSw0OCwxMjkuM2MwLDM0LjUsMjEuOSw2My45LDUyLjYsNzUuMWMxLjksMC43LDMuNCwzLDMuNCw1VjIxN3oiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTEzNiwxODkuM2MwLDIuMi0xLjgsNC00LDRoLThjLTIuMiwwLTQtMS44LTQtNHYtMTIuNmMtMTcuNS0yLjQtMjYtMTIuMS0yOC4zLTI1LjVjLTAuNC0yLjMsMS40LTQuMywzLjctNC4zCgloOS4xYzEuOSwwLDMuNSwxLjQsMy45LDMuMmMxLjcsNy45LDYuMywxNCwyMC4zLDE0YzEwLjMsMCwxNy43LTUuOCwxNy43LTE0LjRjMC04LjYtNC4zLTExLjktMTkuNS0xNC40Yy0yMi40LTMtMzMtOS44LTMzLTI3LjMKCWMwLTEzLjUsMTAuMy0yNC4xLDI2LjEtMjYuM1Y2OS4zYzAtMi4yLDEuOC00LDQtNGg4YzIuMiwwLDQsMS44LDQsNHYxMi43YzEyLjksMi4zLDIxLjEsOS42LDIzLjgsMjEuOGMwLjUsMi4zLTEuMyw0LjQtMy43LDQuNAoJaC04LjRjLTEuOCwwLTMuMy0xLjItMy44LTIuOWMtMi4zLTcuNy03LjgtMTEuMS0xNy40LTExLjFjLTEwLjYsMC0xNi4xLDUuMS0xNi4xLDEyLjNjMCw3LjYsMy4xLDExLjQsMTkuNCwxMy43CgljMjIsMywzMy40LDkuMywzMy40LDI4YzAsMTQuMi0xMC42LDI1LjctMjcuMSwyOC4zVjE4OS4zeiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU3LjIsMjIwLjhjLTIuOSwwLjktNS4yLTAuOC01LjItMy44di03LjVjMC0yLjIsMS4zLTQuMywzLjQtNWMzMC42LTExLjIsNTIuNi00MC43LDUyLjYtNzUuMQoJYzAtMzQuNS0yMS45LTYzLjktNTIuNi03NS4xYy0xLjktMC43LTMuNC0zLTMuNC01di03LjVjMC0zLDIuNC00LjcsNS4yLTMuOEMxOTYsNTAuMiwyMjQsODYuNSwyMjQsMTI5LjMKCUMyMjQsMTcyLjIsMTk2LDIwOC40LDE1Ny4yLDIyMC44eiIvPgo8L3N2Zz4K';
